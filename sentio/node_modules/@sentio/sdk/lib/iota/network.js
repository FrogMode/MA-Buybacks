import { SuiChainId } from '@sentio/chain';
import { Endpoints } from '@sentio/runtime';
// import { ServerError, Status } from 'nice-grpc'
import { IotaClient } from '@iota/iota-sdk/client';
export const IotaNetwork = {
    MAIN_NET: SuiChainId.IOTA_MAINNET,
    TEST_NET: SuiChainId.IOTA_TESTNET
};
export function getClient(network) {
    let chainServer = Endpoints.INSTANCE.chainServer.get(network);
    if (!chainServer) {
        chainServer = getRpcEndpoint(network);
        // throw new ServerError(Status.INTERNAL, 'RPC endpoint not provided')
    }
    return new IotaClient({ url: chainServer });
}
export function getRpcEndpoint(network) {
    switch (network) {
        case IotaNetwork.TEST_NET:
            return 'https://api.testnet.iota.cafe/';
    }
    return 'https://api.mainnet.iota.cafe/';
}
//# sourceMappingURL=network.js.map