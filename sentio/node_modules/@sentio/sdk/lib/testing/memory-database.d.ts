import { StoreContext } from '../store/context.js';
import { DBRequest } from '@sentio/protos';
import { GraphQLSchema } from 'graphql/index.js';
import { Store } from '../store/store.js';
export declare class MemoryDatabase {
    readonly dbContext: StoreContext;
    db: Map<string, Record<string, any>>;
    lastDbRequest: DBRequest | undefined;
    _schema: GraphQLSchema;
    constructor(dbContext: StoreContext);
    get schema(): GraphQLSchema;
    get store(): Store;
    start(): void;
    stop(): void;
    hasEntity(entity: string, id: string): any;
    protected upsert(entity: string, id: string, data: any): void;
    protected delete(entity: string, id: string): void;
    protected getById(entity: string, id: string): any;
    private fillDerivedFromFields;
    private processRequest;
    reset(): void;
    private requestRequiresSchema;
    private listEntities;
}
export declare function withStoreContext(ctx: StoreContext, fn: () => Promise<void>): () => Promise<void>;
//# sourceMappingURL=memory-database.d.ts.map